var V=Object.defineProperty;var A=(n,e,t)=>e in n?V(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var d=(n,e,t)=>(A(n,typeof e!="symbol"?e+"":e,t),t);import{S as E,P as L,a as O,C as M,I as W,M as C,b as x,V as N,B as D,c as H,W as R,d as q,e as F}from"./vendor.9173ba9c.js";const T=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}};T();var j="./assets/acid.d50bc716.mp3",G="./assets/car.aae49075.mp3",I="./assets/down.ee58dc5f.mp3",U="./assets/f.d826f3ee.mp3",X="./assets/feel.6c18602a.mp3",Y="./assets/girl.7b8b225a.mp3",$="./assets/gonsa.d4922c49.mp3",K="./assets/i.d6e10b1b.mp3",Z="./assets/iff.c998c828.mp3",J="./assets/jean.ccee7d38.mp3",Q="./assets/know.875cc6ec.mp3",_="./assets/love.80ffaa81.mp3",ee="./assets/must.57439118.mp3",te="./assets/night.17495a71.mp3",ne="./assets/north.8ad9e80c.mp3",ae="./assets/one.ca9be2d4.mp3",se="./assets/oui.44f79019.mp3",ie="./assets/pull.a49fb53a.mp3",oe="./assets/rain.04ec0ea7.mp3",re="./assets/real.c297db14.mp3",ce="./assets/shrink.afdeea97.mp3",le="./assets/sick.d7dedea7.mp3",de="./assets/summer.ba65d53d.mp3",ue="./assets/text.cd58a6ef.mp3",me="./assets/troop.daec1dee.mp3",pe="./assets/tweak.94ea5621.mp3",we="./assets/walk.577dbe6e.mp3",he="./assets/withh.5b32be93.mp3";class k{constructor(e,t){d(this,"scene");d(this,"camera");d(this,"renderer");d(this,"model");this.scene=new E,this.camera=new L(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.renderer=t,this.model=e}update(e){}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}const P=document.getElementsByTagName("audio")[0],b=document.getElementsByTagName("html")[0];let p,u;const fe=new O;function ve(){b&&(b.onclick=function(){const n=new AudioContext;let e=n.createMediaElementSource(P);p=n.createAnalyser(),e.connect(p),p.connect(n.destination),p.fftSize=512;let t=p.frequencyBinCount;u=new Uint8Array(t),b.onclick=null})}function ye(n){return n.reduce((e,t)=>e+t)/n.length}function ge(n){return n.reduce((e,t)=>e>t?e:t)}class be extends k{constructor(e,t){super(e,t);d(this,"ball");ve(),this.scene.background=new M(16777215);const s=new W(1.5,3),a=new C({color:0,wireframe:!0});this.ball=new x(s,a),this.ball.position.set(0,0,0),this.scene.add(this.ball)}analyze(){p.getByteFrequencyData(u);var e=u.slice(0,u.length/2-1),t=u.slice(u.length/2-1,u.length-1);const s=ye(e)/e.length,a=ge(t)/t.length;Me(this.ball,s,a)}paused(){P.paused&&location.reload()}update(){this.analyze(),this.ball.rotateX(.001),this.ball.rotateY(.001),this.ball.rotateZ(.001),this.paused()}}function Me(n,e,t){const s=n.geometry.attributes.position.array,a=1.5,o=3;for(let r=0;r<s.length;r=r+3){const g=window.performance.now(),l=new N(s[r],s[r+1],s[r+2]);l.normalize();const B=a+e+fe.noise3D(l.x+g*7e-5,l.y+g*8e-5,l.z+g*9e-5)*o*t;l.multiplyScalar(B*.5),s[r]=l.x,s[r+1]=l.y,s[r+2]=l.z}n.geometry.attributes.position.needsUpdate=!0}class xe extends k{constructor(e,t){super(e,t);d(this,"bars",[]);this.scene.background=new M(16777215);let s=-20;for(;s<20;)this.addBar(s),s+=.2}addBar(e){const t=new D(0,50,0),s=new H({color:16777215,wireframe:!0}),a=new x(t,s);a.position.x=e,a.position.y=-25,this.bars.push(a),this.scene.add(a)}up(e){e.scale.y+=.003}down(e){e.scale.y-=.003}update(){this.bars.forEach(e=>{Math.random()>.7&&(Math.random()>.501?this.up(e):this.down(e))})}}let i={activeView:1,pointerPosition:new F(0,0),audioSrc:[j,G,I,U,X,Y,$,K,Z,J,Q,_,ee,te,ne,ae,se,ie,oe,re,ce,le,de,ue,me,pe,we,he]};const w=document.getElementById("play"),h=document.getElementsByTagName("audio")[0],f=document.getElementsByTagName("html")[0];let c,v,y,m=[];function ke(){Pe(),ze(),Se()}function Pe(){w&&(w.onmouseover=function(){f.style.filter="invert(1)"},w.ontouchstart=function(){f.style.filter="invert(1)"},w.onmouseleave=function(){f.style.filter=""},w.onclick=function(n){h.src=i.audioSrc[Math.floor(Math.random()*i.audioSrc.length)],h.load(),h.play(),h.style.display="none",w.style.display="none",i.activeView=(i.activeView+1)%m.length,z(n),f.style.filter=""})}function ze(){c=new R({antialias:!0}),c.setClearColor(0),c.shadowMap.enabled=!0,c.shadowMap.type=q,c.setPixelRatio(window.devicePixelRatio),c.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(c.domElement),v=new be(i,c),m.push(v),y=new xe(i,c),m.push(y),S()}function Se(){window.addEventListener("resize",Be,!1),window.addEventListener("pointermove",z)}function Be(){v.onWindowResize(),y.onWindowResize()}function z(n){i.pointerPosition.x=n.clientX/window.innerWidth*2-1,i.pointerPosition.y=-(n.clientY/window.innerHeight)*2+1,m[i.activeView].camera.position.x=i.pointerPosition.x/2,m[i.activeView].camera.position.y=i.pointerPosition.y/2}function S(){switch(requestAnimationFrame(()=>{S()}),i.activeView){case 0:v.update();break;case 1:y.update();break}c.render(m[i.activeView].scene,m[i.activeView].camera)}ke();
